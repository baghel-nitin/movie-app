"use strict";(self.webpackChunkmovies_app=self.webpackChunkmovies_app||[]).push([[800],{800:(e,t,s)=>{s.r(t),s.d(t,{default:()=>f});var l=s(791),a=s(434),n=s(294),c=s(748);const o=(e,t)=>async s=>{s((0,c.K4)(!0));try{let l=(await n.Z.get("https://test.create.diagnal.com/data/page".concat(e,".json"))).data.page;s((0,c.bp)(l)),t((e=>e+1))}catch(l){s((0,c.K4)(!1)),console.log(l)}s((0,c.K4)(!1))};var r=s(184);const i=(0,l.lazy)((()=>s.e(577).then(s.bind(s,577)))),d=(0,l.lazy)((()=>s.e(246).then(s.bind(s,246)))),u=(0,l.lazy)((()=>s.e(605).then(s.bind(s,605)))),f=()=>{const[e,t]=(0,l.useState)(1),[s,n]=(0,l.useState)("");const[f,h]=(0,l.useState)([]),m=(0,a.I0)(),{data:p,totalRecords:v,title:g,loading:x}=(0,a.v9)((e=>e.movies)),w=(0,l.useCallback)((async()=>{m(o(e,t))}),[e,m]);(0,l.useEffect)((()=>(m(o(e,t)),()=>{(0,c.Nk)()})),[]),(0,l.useEffect)((()=>{h(p)}),[p]),(0,l.useEffect)((()=>{const e=()=>{if(p.length===+v)return;const{scrollTop:e,clientHeight:t,scrollHeight:s}=document.documentElement;e+t>=s-20&&w()};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[p.length,w,v]);return(0,r.jsx)("div",{className:"flex w-full flex-col self-center",children:(0,r.jsxs)("div",{className:"flex w-full flex-col justify-center",children:[(0,r.jsx)(i,{title:g,searchValue:s,handleSearch:e=>{const{value:t}=e.target;if(n(t),!t.length)return void h(p);const s=[...p].filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));h(s)}}),(0,r.jsxs)("div",{className:"mx-1 mt-10 flex flex-wrap justify-center gap-2 self-center md:mx-8 y9:gap-5 ",children:[null===f||void 0===f?void 0:f.map(((e,t)=>(0,r.jsx)(d,{item:e},t))),x&&(0,r.jsx)(u,{})]})]})})}}}]);
//# sourceMappingURL=800.83ea3232.chunk.js.map